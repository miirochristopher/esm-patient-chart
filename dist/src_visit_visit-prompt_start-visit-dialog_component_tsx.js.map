{"version":3,"file":"src_visit_visit-prompt_start-visit-dialog_component_tsx.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAA2C;AACI;AAC6B;AACkC;AACtD;AACT;AAS/C,IAAMW,mBAAoD;QACxDC,oBAAAA,aACAC,mBAAAA,YACAC,kBAAAA,WACAC,2BAAAA;IAEA,IAAM,IAAQb,6DAAcA,GAApBc;IACR,IAAMC,oBAAoBR,sEAAcA,CAAC;IAEzC,IAAMS,sBAAsBjB,kDAAWA,CAAC;QACtC,IAAIc,oBAAoB;YACtBP,oGAAmCA,CAAC;gBAClCI,aAAAA;gBACAO,eAAe;YACjB;QACF,OAAO;YACLZ,uFAAsBA,CAAC;QACzB;QACAM;IACF,GAAG;QAACA;QAAYD;QAAaG;KAAmB;IAEhD,IAAMK,sBAAsBnB,kDAAWA,CAAC;QACtC,IAAIc,oBAAoB;YACtBP,oGAAmCA,CAAC;gBAClCI,aAAAA;gBACAO,eAAe;YACjB;QACF,OAAO;YACLZ,uFAAsBA,CAAC;QACzB;QAEAM;IACF,GAAG;QAACA;QAAYD;QAAaG;KAAmB;IAEhD,IAAMM,kBACJJ,qBAAqBH,cAAc,SAC/BE,EAAE,iBAAiB,sBACnBA,EAAE,iBAAiB;IAEzB,IAAMM,gBAAgBL,oBAClBH,cAAc,SACZE,EACE,oBACA,0GAEFA,EACE,qBACA,wHAEJA,EACE,0BACA;IAGN,qBACE,2DAACO,2BACC,2DAAClB,sDAAWA;QAACQ,YAAYA;qBACvB,2DAACW;QAAKC,WAAWf,gEAAMA,CAACgB,MAAM;OAAGL,iCAEnC,2DAACjB,oDAASA,sBACR,2DAACuB;QAAEF,WAAWf,gEAAMA,CAACkB,IAAI;OAAGN,+BAE9B,2DAAChB,sDAAWA,sBACV,2DAACH,iDAAMA;QAAC0B,MAAK;QAAYC,SAASjB;OAC/BG,EAAE,UAAU,YAEdC,mCACC,2DAACd,iDAAMA;QAAC0B,MAAK;QAAYC,SAASZ;OAC/BF,EAAE,iBAAiB,mCAGxB,2DAACb,iDAAMA;QAAC0B,MAAK;QAAUC,SAASV;OAC7BJ,EAAE,iBAAiB;AAK9B;AAEA,iEAAeL,gBAAgBA,EAAC","sources":["webpack://@miirochristopher/esm-patient-chart-app/./src/visit/visit-prompt/start-visit-dialog.component.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button, ModalBody, ModalHeader, ModalFooter } from '@carbon/react';\nimport { launchPatientWorkspace, launchPatientChartWithWorkspaceOpen } from '@openmrs/esm-patient-common-lib';\nimport { useFeatureFlag } from '@openmrs/esm-framework';\nimport styles from './start-visit-dialog.scss';\n\ninterface StartVisitDialogProps {\n  patientUuid: string;\n  closeModal: () => void;\n  visitType: string;\n  launchPatientChart?: boolean;\n}\n\nconst StartVisitDialog: React.FC<StartVisitDialogProps> = ({\n  patientUuid,\n  closeModal,\n  visitType,\n  launchPatientChart,\n}) => {\n  const { t } = useTranslation();\n  const rdeFeatureEnabled = useFeatureFlag('rde');\n\n  const handleEditPastVisit = useCallback(() => {\n    if (launchPatientChart) {\n      launchPatientChartWithWorkspaceOpen({\n        patientUuid,\n        workspaceName: 'past-visits-overview',\n      });\n    } else {\n      launchPatientWorkspace('past-visits-overview');\n    }\n    closeModal();\n  }, [closeModal, patientUuid, launchPatientChart]);\n\n  const handleStartNewVisit = useCallback(() => {\n    if (launchPatientChart) {\n      launchPatientChartWithWorkspaceOpen({\n        patientUuid,\n        workspaceName: 'start-visit-workspace-form',\n      });\n    } else {\n      launchPatientWorkspace('start-visit-workspace-form');\n    }\n\n    closeModal();\n  }, [closeModal, patientUuid, launchPatientChart]);\n\n  const modalHeaderText =\n    rdeFeatureEnabled && visitType === 'past'\n      ? t('addAPastVisit', 'Add a past visit')\n      : t('noActiveVisit', 'No active visit');\n\n  const modalBodyText = rdeFeatureEnabled\n    ? visitType === 'past'\n      ? t(\n          'addPastVisitText',\n          'You can add a new past visit or update an old one. Choose from one of the options below to continue.',\n        )\n      : t(\n          'noActiveVisitText',\n          \"You can't add data to the patient chart without an active visit. Choose from one of the options below to continue.\",\n        )\n    : t(\n        'noActiveVisitNoRDEText',\n        \"You can't add data to the patient chart without an active visit. Would you like to start a new visit?\",\n      );\n\n  return (\n    <div>\n      <ModalHeader closeModal={closeModal}>\n        <span className={styles.header}>{modalHeaderText}</span>\n      </ModalHeader>\n      <ModalBody>\n        <p className={styles.body}>{modalBodyText}</p>\n      </ModalBody>\n      <ModalFooter>\n        <Button kind=\"secondary\" onClick={closeModal}>\n          {t('cancel', 'Cancel')}\n        </Button>\n        {rdeFeatureEnabled && (\n          <Button kind=\"secondary\" onClick={handleEditPastVisit}>\n            {t('editPastVisit', 'Edit past visit')}\n          </Button>\n        )}\n        <Button kind=\"primary\" onClick={handleStartNewVisit}>\n          {t('startNewVisit', 'Start new visit')}\n        </Button>\n      </ModalFooter>\n    </div>\n  );\n};\n\nexport default StartVisitDialog;\n"],"names":["React","useCallback","useTranslation","Button","ModalBody","ModalHeader","ModalFooter","launchPatientWorkspace","launchPatientChartWithWorkspaceOpen","useFeatureFlag","styles","StartVisitDialog","patientUuid","closeModal","visitType","launchPatientChart","t","rdeFeatureEnabled","handleEditPastVisit","workspaceName","handleStartNewVisit","modalHeaderText","modalBodyText","div","span","className","header","p","body","kind","onClick"],"sourceRoot":""}